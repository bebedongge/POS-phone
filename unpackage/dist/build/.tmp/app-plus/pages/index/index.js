(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/index/index"],{"0187":function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{directives:[{name:"show",rawName:"v-show",value:t.retadashow,expression:"retadashow"}],staticClass:"robstamap"},[t._m(0),i("view",{staticStyle:{width:"100%",height:"312.5rpx",background:"#f64c5e","margin-top":"-1.041666rpx"}},[i("view",{staticStyle:{"font-size":"37.5rpx",color:"#fffaf5","font-family":"PingFangSC-Medium"}},[t._v("恭喜您获得1张优惠券")]),i("view",{staticStyle:{width:"625rpx",height:"187.5rpx",background:"#fffaf5","border-radius":"4.166666rpx",margin:"41.666666rpx auto 0rpx"}},[i("view",{staticStyle:{width:"100%",height:"0.041666rpx"}}),i("view",{staticStyle:{width:"583.333333rpx",height:"125rpx",background:"#ffffff",margin:"31.25rpx auto 0rpx",position:"relative"}},[null!=t.retada?i("image",{staticStyle:{width:"100%",height:"100%"},attrs:{src:t.retada.url}}):t._e(),null!=t.retada?i("view",{staticStyle:{position:"absolute",width:"263.541666rpx",height:"36.458333rpx",left:"168.541666rpx",bottom:"20.833333rpx"}},[i("text",{staticStyle:{"font-family":"PingFangSC-Regular","font-size":"29.166666rpx",color:"#f96c1d"}},[t._v(t._s(t.retada.denomination))]),i("text",{staticStyle:{"font-family":"PingFangSC-Regular","font-size":"18.75rpx",color:"#666666","margin-left":"10.416666rpx"}},[t._v(t._s(t.retada.startTime)+"--"+t._s(t.retada.endTime))])]):t._e()])])]),i("view",{staticStyle:{width:"59.375rpx",height:"59.375rpx",margin:"31.25rpx auto 0rpx"}},[i("image",{staticStyle:{width:"100%",height:"100%"},attrs:{src:"../../static/index/close.png",eventid:"0b9967f7-0"},on:{click:t.close}})])])},s=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticStyle:{width:"100%",height:"311.458333rpx"}},[i("image",{staticStyle:{width:"100%",height:"100%"},attrs:{src:"../../static/index/tan.png"}})])}];i.d(e,"a",function(){return a}),i.d(e,"b",function(){return s})},"067c":function(t,e,i){"use strict";var a=i("b3f7"),s=i.n(a);s.a},"069b":function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=c(i("d8cf")),s=c(i("8a33")),n=c(i("55a7")),o=c(i("13c8")),r=c(i("db57"));function c(t){return t&&t.__esModule?t:{default:t}}var l={components:{HMmessages:a.default,newHead:s.default,commodityPool:n.default,robStamps:o.default,conditionsSatisfaction:r.default},data:function(){return{}},computed:{meetRequirement:function(){return this.$store.state.mian.meetRequirement},memberlist:function(){var t=this.$store.state.login.logindata;return t},gonngda:function(){return console.log("首页初始化是否有数据："+JSON.stringify(this.$store.state.mian.intodata)),this.$store.state.mian.intodata}},onBackPress:function(){return t.showModal({title:"提示",content:"是否退出POS手机版？",success:function(t){t.confirm?plus.runtime.quit():t.cancel&&console.log("用户点击取消")}}),!0},onLoad:function(){},methods:{xud:function(){t.chooseImage({count:6,sizeType:["original","compressed"],sourceType:["album"],success:function(t){console.log(JSON.stringify(t.tempFilePaths))}})},sao:function(){console.log("读取本地内容："+JSON.stringify(t.getStorageSync("uerbane")));var e=this;t.scanCode({success:function(t){console.log("条码类型："+t.scanType),console.log("条码内容："+t.result),e.ObtainCommodity(t.result)},fail:function(t){console.log("扫描二维码失败："+t)}})},initi:function(){var t=this;this.$http.get("pc/posRestingOrder/initAutoPosRestingOrder",{state:10,posTicketType:10,payTypeId:""}).then(function(e){console.log("初始化挂单数据："+JSON.stringify(e.data)),t.$store.commit("mian/intodata",e.data)})},tiao:function(){console.log("测试跳转"),t.navigateTo({url:"../login/login"})},ObtainCommodity:function(t){var e=this,i=this;console.log("扫描之前各参数：Authorization："+i.$store.state.login.logindata.accessToken+",barCode:"+t),this.$http.post("pc/posRestingOrder/addGoodsToRestingOrderByBarCode",{barCode:t,posTicketCode:"",state:10,posTicketType:10,restingOrderType:10,memberCode:""}).then(function(t){e.$store.commit("mian/goodlist",t.data),0==t.data.status&&i.initi()})},login:function(e){var i=this,a=this;t.request({url:a.$store.state.requestUrl+"/user/login",data:{username:e.username,password:e.password,departmentId:e.departmentId},method:"POST",success:function(t){console.log("首页登录成功之后数据："+JSON.stringify(t.data)),0==t.data.status?a.$store.commit("login/logindata",t.data.data):i.HMmessages.show("登录失败,"+t.data.message,{icon:"error",closeButton:!0})}})},settlementJump:function(){null!=this.$store.state.mian.intodata?t.navigateTo({url:"../shoppingcart/shoppingcart",animationDuration:500}):this.HMmessages.show("请扫描商品条码",{icon:"error",closeButton:!0})},activeHint:function(){var t=this;null!=this.$store.state.mian.intodata?this.$http.post("pc/goodsActivity/getGoodsActivity",{posTicketCode:this.$store.state.mian.intodata.data.list[0].pos_ticket_code,state:10,posTicketType:10,restingOrderType:10}).then(function(e){0==e.data.status&&(null==e.data.data?t.settlementJump():0==e.data.data.activity_msg_yes_list.length&&0==e.data.data.activity_msg_no_list.length?t.settlementJump():(t.$store.commit("mian/meetRequirement",!0),t.$store.commit("mian/meetlist",e.data.data)))}):this.HMmessages.show("请扫描商品条码",{icon:"error",closeButton:!0})},Payment:function(){var t=this;this.$http.get("pc/payType/getPayTypeList").then(function(e){console.log("获取支付方式："+JSON.stringify(e.data)),t.$store.commit("mian/paytype",e.data.data)})}},mounted:function(){try{var e=t.getStorageSync("storage_key");e?this.login(e):t.navigateTo({url:"../login/login"})}catch(i){}this.Payment()}};e.default=l}).call(this,i("6e42")["default"])},"13c8":function(t,e,i){"use strict";i.r(e);var a=i("0187"),s=i("ad29");for(var n in s)"default"!==n&&function(t){i.d(e,t,function(){return s[t]})}(n);i("b401");var o=i("2877"),r=Object(o["a"])(s["default"],a["a"],a["b"],!1,null,"4491d8cc",null);e["default"]=r.exports},"3d59":function(t,e,i){"use strict";i.r(e);var a=i("aa3a"),s=i.n(a);for(var n in a)"default"!==n&&function(t){i.d(e,t,function(){return a[t]})}(n);e["default"]=s.a},4448:function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={data:function(){return{}},computed:{retada:function(){return this.$store.state.mian.intodata},total:function(){return this.$store.state.mian.settlementInitialization},memberInfo:function(){return this.$store.state.mian.member},upgrade:function(){var t=0;if(null!=this.$store.state.mian.member){var e=Number(this.$store.state.mian.member.data.levelStayConsume)+Number(this.$store.state.mian.member.data.upTypeValue);t=Number(this.$store.state.mian.member.data.levelStayConsume)/e*100}return t+"%"}},methods:{deleteGood:function(e){var i=this;this.$http.post("pc/posRestingOrder/updateGoodsNum",{goodsNum:1,restingOrderId:e.id,operateType:"SC"}).then(function(e){t.showToast({title:"删除成功",icon:"success",duration:1e3}),i.initi()})},initi:function(){var t=this;this.$http.get("pc/posRestingOrder/initAutoPosRestingOrder",{state:10,posTicketType:10,payTypeId:""}).then(function(e){t.$store.commit("mian/intodata",e.data),console.log("长度："+e.data.data.list.length),0==e.data.data.list.length&&(t.$store.state.mian.intodata=null,t.$store.state.mian.member=null)})},settlementInitialization:function(){var t=this,e="";null!=this.$store.state.mian.goodlist&&(e=this.$store.state.mian.goodlist.data.posTicketCode),this.$http.post("pc/posPayment/initPosPaymentAction",{payTypeId:this.$store.state.mian.paytype[0].id,state:10,posTicketCode:e,posTicketType:10,restingOrderType:10}).then(function(e){t.$store.commit("mian/settlementInitialization",e.data.data)})}},mounted:function(){}};e.default=i}).call(this,i("6e42")["default"])},"55a7":function(t,e,i){"use strict";i.r(e);var a=i("b851"),s=i("f605");for(var n in s)"default"!==n&&function(t){i.d(e,t,function(){return s[t]})}(n);i("067c");var o=i("2877"),r=Object(o["a"])(s["default"],a["a"],a["b"],!1,null,"2cc2fc00",null);e["default"]=r.exports},"6eb3":function(t,e,i){"use strict";var a=i("8b71"),s=i.n(a);s.a},"823e":function(t,e,i){},"8b71":function(t,e,i){},9292:function(t,e,i){"use strict";var a=i("f1e9"),s=i.n(a);s.a},aa3a:function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={data:function(){return{}},computed:{activeGoods:function(){return console.log("商品集合1："+this.$store.state.mian.meetlist),this.$store.state.mian.meetlist}},methods:{close:function(){this.$store.commit("mian/meetRequirement",!1)},settlementJump:function(){null!=this.$store.state.mian.intodata?(this.$store.commit("mian/meetRequirement",!1),t.navigateTo({url:"../shoppingcart/shoppingcart",animationDuration:500})):this.HMmessages.show("请扫描商品条码",{icon:"error",closeButton:!0})}}};e.default=i}).call(this,i("6e42")["default"])},aa82:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={data:function(){return{show:!1}},computed:{retada:function(){return this.$store.state.mian.robStamps},retadashow:function(){return this.$store.state.mian.robshow}},methods:{close:function(){this.$store.state.mian.robshow=!1}},mounted:function(){}};e.default=a},aca9:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:"condution"},[i("view",{staticClass:"condution_view1"}),i("view",{staticClass:"view2_f"},[i("view",{staticClass:"condution_view2"},[i("view",{staticClass:"view2_mian"},[i("view",{staticClass:"view2_mian_title"},[i("text",{staticStyle:{"margin-left":"20.833333rpx"}},[t._v("活动提示")]),i("text",{staticStyle:{float:"right","font-size":"25rpx","margin-right":"20.833333rpx"},attrs:{eventid:"2360d67b-0"},on:{click:t.close}},[t._v("关闭")])]),null!=t.activeGoods?i("view",{staticStyle:{"max-height":"860.833333rpx",overflow:"auto"}},[0!=t.activeGoods.activity_msg_yes_list.length?i("view",t._l(t.activeGoods.activity_msg_yes_list,function(e,a){return i("view",{key:a},[i("view",{staticClass:"view2_mian_meet"},[i("view",{staticStyle:{height:"60.416666rpx",background:"#eae8e2","margin-bottom":"21.875rpx"}},[t._m(0,!0),i("view",{staticStyle:{"text-align":"left"}},[i("text",{staticStyle:{"font-size":"25rpx",color:"#f96c1d","margin-left":"31.25rpx","text-align":"left","text-indent":"21.666666rpx"}},[t._v("活动："+t._s(e.activity_name))])])]),i("view",t._l(e.goods_msg_list,function(e,a){return i("view",{key:a,staticClass:"view2_list"},[i("view",{staticStyle:{width:"75rpx",height:"75rpx",float:"left","border-radius":"100%"}},[i("image",{staticStyle:{width:"75rpx",height:"75rpx","border-radius":"100%"},attrs:{src:e.homepage_picture}})]),i("view",{staticStyle:{width:"316.666666rpx","margin-left":"14.583333rpx",float:"left"}},[t._v(t._s(e.goods_name))]),i("view",{staticStyle:{width:"73.333333rpx","margin-left":"14.583333rpx",float:"left"}},[t._v(t._s(e.goods_num)+t._s(e.goods_unit_name))]),i("view",{staticStyle:{width:"100.166666rpx",color:"#f96c1d",float:"right"}},[t._v(t._s(e.activity_price))])])}))])])})):t._e(),0!=t.activeGoods.activity_msg_no_list.length?i("view",t._l(t.activeGoods.activity_msg_no_list,function(e,a){return i("view",{key:a},[i("view",{staticClass:"view2_mian_meet"},[i("view",{staticStyle:{height:"60.416666rpx",background:"#eae8e2","margin-bottom":"21.875rpx"}},[t._m(1,!0),i("view",{staticStyle:{"text-align":"left"}},[i("text",{staticStyle:{"font-size":"25rpx",color:"#968074","margin-left":"31.25rpx","text-align":"left","text-indent":"21.666666rpx"}},[t._v("活动："+t._s(e.activity_name))])])]),i("view",t._l(e.goods_msg_list,function(e,a){return i("view",{key:a,staticClass:"view2_list"},[i("view",{staticStyle:{width:"75rpx",height:"75rpx",background:"#080808",float:"left","border-radius":"100%"}},[i("image",{staticStyle:{width:"75rpx",height:"75rpx","border-radius":"100%"},attrs:{src:e.homepage_picture}})]),i("view",{staticStyle:{width:"316.666666rpx","margin-left":"14.583333rpx",float:"left"}},[t._v(t._s(e.goods_name))]),i("view",{staticStyle:{width:"73.333333rpx","margin-left":"14.583333rpx",float:"left"}},[t._v(t._s(e.goods_num)+t._s(e.goods_unit_name))]),i("view",{staticStyle:{width:"100.166666rpx",color:"#f96c1d",float:"right"}},[t._v(t._s(e.activity_price))])])}))])])})):t._e()]):t._e(),i("view",{staticStyle:{width:"604.166666rpx",height:"81.25rpx",margin:"0 auto"}},[i("button",{staticClass:"btn",attrs:{eventid:"2360d67b-1"},on:{click:t.settlementJump}},[t._v("继续支付")])],1),i("view",{staticStyle:{width:"100%",height:"31.25rpx"}})])])])])},s=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:"view2_mian_left"},[i("image",{attrs:{src:"../../static/index/meet.png",mode:""}}),i("text",{staticStyle:{"font-size":"25rpx",color:"#f96c1d",margin:"-35.208333rpx 0rpx 0px 10.416666rpx"}},[t._v("已享受")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:"view2_mian_left"},[i("image",{attrs:{src:"../../static/index/does_not_meet.png",mode:""}}),i("text",{staticStyle:{"font-size":"25rpx",color:"#968074",margin:"-35.208333rpx 0rpx 0px 10.416666rpx"}},[t._v("未满足")])])}];i.d(e,"a",function(){return a}),i.d(e,"b",function(){return s})},ad29:function(t,e,i){"use strict";i.r(e);var a=i("aa82"),s=i.n(a);for(var n in a)"default"!==n&&function(t){i.d(e,t,function(){return a[t]})}(n);e["default"]=s.a},b12c:function(t,e,i){"use strict";i.r(e);var a=i("e125"),s=i("b845");for(var n in s)"default"!==n&&function(t){i.d(e,t,function(){return s[t]})}(n);i("6eb3");var o=i("2877"),r=Object(o["a"])(s["default"],a["a"],a["b"],!1,null,"e3777d56",null);e["default"]=r.exports},b3f7:function(t,e,i){},b401:function(t,e,i){"use strict";var a=i("823e"),s=i.n(a);s.a},b845:function(t,e,i){"use strict";i.r(e);var a=i("069b"),s=i.n(a);for(var n in a)"default"!==n&&function(t){i.d(e,t,function(){return a[t]})}(n);e["default"]=s.a},b851:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",[i("view",{staticClass:"comm"},[i("image",{staticClass:"bacs",attrs:{src:"../../static/index/background_2.png",mode:""}}),i("image",{staticClass:"baico",attrs:{src:"../../static/index/bei.png",mode:""}}),i("view",{staticClass:"baico goodlist"},[i("view",{staticClass:"mianlist"},[null!=t.memberInfo?i("view",[i("image",{staticClass:"coumiy",attrs:{src:t.memberInfo.data.memberPictures,mode:""}}),i("view",{staticClass:"huidata"},[i("view",[i("text",{staticStyle:{"font-size":"29.166666rpx","margin-right":"10.416666rpx",color:"#71593d"}},[t._v(t._s(t.memberInfo.data.memberName))]),i("text",{staticStyle:{padding:"5.208333rpx 15.333333rpx",background:"#71593d","border-radius":"14.166666rpx","font-size":"20.833333rpx",color:"#F8F8F8"}},[t._v(t._s(t.memberInfo.data.levelNickname))])]),i("view",{staticStyle:{width:"361.458333rpx",height:"41.666666rpx",margin:"5.208333rpx auto"}},[i("text",{staticClass:"dename",staticStyle:{float:"left"}},[t._v(t._s(t.memberInfo.data.levelNickname))]),i("view",{staticClass:"backad",staticStyle:{float:"left"}},[i("view",{staticClass:"sheji",style:{width:t.upgrade}})]),i("text",{staticClass:"dename",staticStyle:{float:"left"}},[t._v(t._s(t.memberInfo.data.levelNextNickname))])]),i("view",{staticClass:"tineif"},[t._v("本次消费可享受"+t._s(t.memberInfo.data.memberDiscount)+"折，距升级还需有效消费"+t._s(t.memberInfo.data.levelIndex)+"次或"+t._s(t.memberInfo.data.upTypeValue)+"元")])])]):i("view",{staticStyle:{width:"100%",height:"93.75rpx"}}),i("view",{staticClass:"gooddata"},[null!=t.retada?i("view",t._l(t.retada.data.list,function(e,a){return i("view",{key:a,staticStyle:{width:"95%",height:"83.333333rpx",margin:"0 auto 26.041666rpx","text-align":"left"}},[i("image",{staticStyle:{width:"83.333333rpx",height:"83.333333rpx","border-radius":"100%",float:"left"},attrs:{src:e.homepage_picture,mode:""}}),i("text",{staticStyle:{width:"257.291666rpx",height:"100%","font-size":"25rpx",color:"#333333",float:"left","margin-left":"10.416666rpx"}},[t._v(t._s(e.goods_name))]),i("text",{staticStyle:{width:"104.166666rpx",height:"100%","font-size":"25rpx",color:"#333333","line-height":"83.333333rpx",float:"left","margin-left":"10.416666rpx"}},[t._v(t._s(e.goods_price)+"/"+t._s(e.goods_unit_name))]),i("text",{staticStyle:{width:"62.5rpx",height:"100%","font-size":"25rpx",color:"#333333","line-height":"83.333333rpx",float:"left","margin-left":"10.416666rpx"}},[t._v(t._s(e.goods_price*e.goods_num))]),i("image",{staticStyle:{width:"38.125rpx",height:"38.125rpx",float:"right","margin-top":"30.833333rpx"},attrs:{src:"../../static/index/delete.1.png",mode:"",eventid:"ef5f0012-0-"+a},on:{click:function(i){t.deleteGood(e)}}})])})):t._e()]),null!=t.retada?i("view",{staticStyle:{"line-height":"52.083333rpx"}},[i("text",{staticStyle:{float:"right","font-size":"29.166666rpx",color:"#be0000","margin-left":"60.416666rpx","margin-right":"40.833333rpx"}},[t._v("合计："),i("text",{staticStyle:{"font-size":"50rpx"}},[t._v("¥"+t._s(t.retada.data.all_moeny))])]),i("text",{staticStyle:{float:"right","font-size":"29.166666rpx",color:"#333333","margin-top":"10.833333rpx"}},[t._v("已优惠：¥"+t._s(t.retada.data.discount_money))])]):t._e()])])])])},s=[];i.d(e,"a",function(){return a}),i.d(e,"b",function(){return s})},db57:function(t,e,i){"use strict";i.r(e);var a=i("aca9"),s=i("3d59");for(var n in s)"default"!==n&&function(t){i.d(e,t,function(){return s[t]})}(n);i("9292");var o=i("2877"),r=Object(o["a"])(s["default"],a["a"],a["b"],!1,null,"e8220496",null);e["default"]=r.exports},e125:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:"content",attrs:{id:"index"}},[i("new-head",{attrs:{mpcomid:"632e69e9-0"}}),null==t.gonngda?i("view",[i("image",{staticClass:"bacs",attrs:{src:"../../static/login/background.png",mode:""}}),i("image",{staticClass:"tishi",attrs:{src:"../../static/index/price_tag.png",mode:""}}),i("text",{staticClass:"saom"},[t._v("请扫描商品条码")]),i("image",{staticClass:"goodimg",attrs:{src:"../../static/index/scanning_h.png",mode:""}})]):i("view",[i("commodity-pool",{attrs:{mpcomid:"632e69e9-1"}})],1),null==t.gonngda?i("view",{staticClass:"botmm",attrs:{eventid:"632e69e9-1"},on:{click:t.settlementJump}},[i("image",{staticClass:"img",attrs:{src:"../../static/index/brush_4.png",mode:""}}),i("image",{staticClass:"styled fa1",attrs:{src:"../../static/index/pay_treasure_gray_2.png",mode:""}}),i("image",{staticClass:"styled fa2",attrs:{src:"../../static/index/wechat_gray_2.png",mode:""}}),i("image",{staticClass:"styled fa3",attrs:{src:"../../static/index/card_h.png",mode:""}}),i("image",{staticClass:"styled fa4",attrs:{src:"../../static/index/cash_h.png",mode:""}}),i("text",{staticClass:"stytext tex1"},[t._v("支付宝")]),i("text",{staticClass:"stytext tex2"},[t._v("微信")]),i("text",{staticClass:"stytext tex3"},[t._v("会员")]),i("text",{staticClass:"stytext tex4"},[t._v("现金")]),i("image",{staticClass:"fe1",attrs:{src:"../../static/index/fen.png",mode:""}}),i("image",{staticClass:"fe2",attrs:{src:"../../static/index/fen.png",mode:""}}),i("image",{staticClass:"fe3",attrs:{src:"../../static/index/fen.png",mode:""}})]):i("view",{staticClass:"botmm"},[i("image",{staticClass:"img",attrs:{src:"../../static/index/brush_4.png",mode:""}}),i("button",{staticClass:"btn",attrs:{eventid:"632e69e9-0"},on:{click:t.activeHint}},[t._v("去结算")])],1),i("HMmessages",{ref:"HMmessages",attrs:{eventid:"632e69e9-2",mpcomid:"632e69e9-2"},on:{complete:function(e){t.HMmessages=t.$refs.HMmessages},clickMessage:t.clickMessage}}),i("robStamps",{attrs:{mpcomid:"632e69e9-3"}}),i("view",{directives:[{name:"show",rawName:"v-show",value:t.meetRequirement,expression:"meetRequirement"}]},[i("conditionsSatisfaction",{attrs:{mpcomid:"632e69e9-4"}})],1)],1)},s=[];i.d(e,"a",function(){return a}),i.d(e,"b",function(){return s})},ec79:function(t,e,i){"use strict";i("34b9");var a=n(i("b0ce")),s=n(i("b12c"));function n(t){return t&&t.__esModule?t:{default:t}}Page((0,a.default)(s.default))},f1e9:function(t,e,i){},f605:function(t,e,i){"use strict";i.r(e);var a=i("4448"),s=i.n(a);for(var n in a)"default"!==n&&function(t){i.d(e,t,function(){return a[t]})}(n);e["default"]=s.a}},[["ec79","common/runtime","common/vendor"]]]);