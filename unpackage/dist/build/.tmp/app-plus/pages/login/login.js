(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/login/login"],{"0ae4":function(t,e,s){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;i(s("f3d3"));var a=i(s("da84")),o=i(s("d8cf"));s("2f62");function i(t){return t&&t.__esModule?t:{default:t}}var n={components:{xyzBottomCategory:a.default,HMmessages:o.default},data:function(){return{jobNumber:"",chaod:"",password:""}},onBackPress:function(){return t.showModal({title:"提示",content:"是否退出POS手机版？",success:function(t){t.confirm?plus.runtime.quit():t.cancel&&console.log("用户点击取消")}}),!0},computed:{choice:function(){return this.chaod=this.$store.getters["login/retada"].saveMechanism,this.chaod}},methods:{popup:function(){""==this.jobNumber?this.HMmessages.show("请输入工号",{icon:"error",closeButton:!0}):this.accessInstitutions()},accessInstitutions:function(){var e=this,s=this;t.request({url:s.$store.state.requestUrl+"/depart/getDepart/"+this.jobNumber,success:function(t){console.log("机构数据："+JSON.stringify(t.data)),0==t.data.status&&0!=t.data.data.length?(s.$store.commit("login/mechanismData",t.data),s.$refs.xyzBottomCategory.show()):e.HMmessages.show("工号输入有误，请正确输入",{icon:"error",closeButton:!0})}})},clickMessage:function(){this.HMmessages.close()},login:function(){var e=this,s=this;t.request({url:s.$store.state.requestUrl+"/user/login",data:{username:this.jobNumber,password:this.password,departmentId:this.chaod.department_id},method:"POST",success:function(a){if(console.log("登录成功之后数据："+JSON.stringify(a.data)),0==a.data.status){s.$store.commit("login/logindata",a.data.data);var o={username:s.jobNumber,password:s.password,departmentId:s.chaod.department_id};console.log("导入数据："+JSON.stringify(o)),t.setStorageSync("storage_key",o),setTimeout(function(){t.navigateTo({url:"../index/index"})},500)}else e.HMmessages.show("登录失败,"+a.data.message,{icon:"error",closeButton:!0})}})}}};e.default=n}).call(this,s("6e42")["default"])},"1f4d":function(t,e,s){"use strict";s.r(e);var a=s("0ae4"),o=s.n(a);for(var i in a)"default"!==i&&function(t){s.d(e,t,function(){return a[t]})}(i);e["default"]=o.a},"28ae":function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("view",[s("view",{class:{mask:t.showPopup},style:{bottom:t.footer_height+"px"},attrs:{eventid:"688084c7-0"},on:{click:t.maskClick}}),s("view",{staticClass:"bottom-category-content",class:{"bottom-category-view-show":t.showPopup},style:{bottom:t.footer_height+"px"}},[""!=t.subCategoryLists?s("scroll-view",{staticClass:"nav-left",style:"height:"+t.height+"px",attrs:{"scroll-y":""}},t._l(t.subCategoryLists,function(e,a){return s("view",{key:a,staticClass:"nav-left-item",class:a==t.categoryActive?"active":"",attrs:{eventid:"688084c7-1-"+a},on:{click:function(s){t.categoryClickMain(e,a)}}},[t._v(t._s(e.department_name))])})):t._e()],1)])},o=[];s.d(e,"a",function(){return a}),s.d(e,"b",function(){return o})},3932:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("view",{attrs:{id:"login"}},[s("image",{staticStyle:{position:"fixed",left:"0rpx",top:"0rpx",bottom:"0rpx"},attrs:{src:"../../static/login/background.png",mode:""}}),t._m(0),s("view",{staticClass:"input"},[s("view",{staticClass:"redi"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.jobNumber,expression:"jobNumber"}],staticClass:"inputtext",attrs:{type:"text",cursor:"120",value:"",placeholder:"请输入工号",eventid:"61a469d7-0"},domProps:{value:t.jobNumber},on:{input:function(e){e.target.composing||(t.jobNumber=e.target.value)}}}),s("image",{staticClass:"ima",attrs:{src:"../../static/login/number.png",mode:""}})]),s("view",{staticClass:"redi"},[""!=t.choice?s("input",{directives:[{name:"model",rawName:"v-model",value:t.choice.department_name,expression:"choice.department_name"}],staticClass:"inputtext",attrs:{type:"text",disabled:"true",placeholder:"请选择机构",eventid:"61a469d7-2"},domProps:{value:t.choice.department_name},on:{click:t.popup,input:function(e){e.target.composing||(t.choice.department_name=e.target.value)}}}):s("input",{staticClass:"inputtext",attrs:{type:"text",disabled:"true",placeholder:"请选择机构",eventid:"61a469d7-1"},on:{click:t.popup}}),s("image",{staticClass:"ima",attrs:{src:"../../static/login/institutions.png",mode:""}})]),s("view",{staticClass:"redi"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"inputtext",attrs:{type:"text","adjust-position":"true",password:"true",placeholder:"请输入密码",eventid:"61a469d7-3"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),s("image",{staticClass:"ima",attrs:{src:"../../static/login/password.png",mode:""}})])]),s("button",{staticClass:"btn",attrs:{type:"primary",eventid:"61a469d7-4"},on:{click:t.login}},[t._v("登录")]),s("xyz-bottom-category",{ref:"xyzBottomCategory",attrs:{eventid:"61a469d7-5",mpcomid:"61a469d7-0"},on:{childByValue:t.childByValue}}),s("HMmessages",{ref:"HMmessages",attrs:{eventid:"61a469d7-6",mpcomid:"61a469d7-1"},on:{complete:function(e){t.HMmessages=t.$refs.HMmessages},clickMessage:t.clickMessage}})],1)},o=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("view",[s("image",{staticClass:"httle",attrs:{src:"../../static/index/brush_3.png",mode:""}}),s("image",{staticClass:"log",attrs:{src:"../../static/login/logo.png",mode:""}}),s("text",{staticClass:"title"},[t._v("POS手机版")])])}];s.d(e,"a",function(){return a}),s.d(e,"b",function(){return o})},4534:function(t,e,s){"use strict";s.r(e);var a=s("3932"),o=s("1f4d");for(var i in o)"default"!==i&&function(t){s.d(e,t,function(){return o[t]})}(i);s("9d31");var n=s("2877"),r=Object(n["a"])(o["default"],a["a"],a["b"],!1,null,null,null);e["default"]=r.exports},7085:function(t,e,s){},7779:function(t,e,s){"use strict";s("34b9");var a=i(s("b0ce")),o=i(s("4534"));function i(t){return t&&t.__esModule?t:{default:t}}Page((0,a.default)(o.default))},"7dfb":function(t,e,s){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;a(s("f3d3"));function a(t){return t&&t.__esModule?t:{default:t}}var o={data:function(){return{showPopup:!1,categoryActive:0,height:"auto",subCategoryList:[],scrollTop:0}},props:{bottom:{type:Number,default:0}},computed:{footer_height:function(){return t.upx2px(this.bottom)},subCategoryLists:function(){var t=this.$store.getters["login/retada"].mechanismData.data;return t}},methods:{show:function(){this.showPopup=!0},maskClick:function(){this.cancel()},cancel:function(){this.showPopup=!1},scroll:function(t){this.scrollHeight=t.detail.scrollHeight},categoryClickMain:function(t,e){this.categoryActive=e,this.subCategoryList=t.subList,this.scrollTop=-this.scrollHeight*e,console.log(this.$store.getters["login/retada"].saveMechanism);var s={department_id:t.department_id,department_name:t.department_name};this.$store.commit("login/saveMechanism",s),this.cancel()},chooseIcon:function(t){console.log(this.categoryActive+"----"+t),this.$emit("exampleEvent",[this.categoryActive,t])}}};e.default=o}).call(this,s("6e42")["default"])},"99c8":function(t,e,s){"use strict";var a=s("7085"),o=s.n(a);o.a},"9d31":function(t,e,s){"use strict";var a=s("f4c9"),o=s.n(a);o.a},d700:function(t,e,s){"use strict";s.r(e);var a=s("7dfb"),o=s.n(a);for(var i in a)"default"!==i&&function(t){s.d(e,t,function(){return a[t]})}(i);e["default"]=o.a},da84:function(t,e,s){"use strict";s.r(e);var a=s("28ae"),o=s("d700");for(var i in o)"default"!==i&&function(t){s.d(e,t,function(){return o[t]})}(i);s("99c8");var n=s("2877"),r=Object(n["a"])(o["default"],a["a"],a["b"],!1,null,null,null);e["default"]=r.exports},f4c9:function(t,e,s){}},[["7779","common/runtime","common/vendor"]]]);